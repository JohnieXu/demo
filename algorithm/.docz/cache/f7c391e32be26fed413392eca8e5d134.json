{"remainingRequest":"/Users/johniexu/Documents/github/demo/algorithm/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/johniexu/Documents/github/demo/algorithm/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/johniexu/Documents/github/demo/algorithm/node_modules/source-map-loader/index.js!/Users/johniexu/Documents/github/demo/algorithm/src/array.js","dependencies":[{"path":"/Users/johniexu/Documents/github/demo/algorithm/src/array.js","mtime":1569181120958},{"path":"/Users/johniexu/Documents/github/demo/algorithm/node_modules/cache-loader/dist/cjs.js","mtime":1564209782272},{"path":"/Users/johniexu/Documents/github/demo/algorithm/node_modules/thread-loader/dist/cjs.js","mtime":1566824197760},{"path":"/Users/johniexu/Documents/github/demo/algorithm/node_modules/babel-loader/lib/index.js","mtime":1561717017692},{"path":"/Users/johniexu/Documents/github/demo/algorithm/node_modules/source-map-loader/index.js","mtime":1568560708253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvam9obmlleHUvRG9jdW1lbnRzL2dpdGh1Yi9kZW1vL2FsZ29yaXRobS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCB7IGhhbmRsZUFyZ0Vycm9yIH0gZnJvbSAnLi91dGlscyc7Ci8qKgogKiDmiYHlubPljJbmlbDnu4QKICogQHBhcmFtIHtBcnJheX0gYXJyIOmcgOimgeaJgeW5s+WMlueahOaVsOe7hAogKi8KCmV4cG9ydCB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7CiAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHsKICAgIHJldHVybiBoYW5kbGVBcmdFcnJvcignYXJndW1lbnQgYGFycmAgbXVzdCBiZSBhbiBhcnJheScpOwogIH0KCiAgdmFyIHNldCA9IG5ldyBTZXQoKTsKCiAgdmFyIGZsYXQgPSBmdW5jdGlvbiBmbGF0KGl0ZW0pIHsKICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtKSkgewogICAgICBzZXQuYWRkKGl0ZW0pOwogICAgfSBlbHNlIHsKICAgICAgaXRlbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGZsYXQoaXRlbSk7CiAgICAgIH0pOwogICAgfQogIH07CgogIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gZmxhdChpdGVtKTsKICB9KTsKICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHNldCk7Cn07CgppZiAodHlwZW9mIGZsYXR0ZW4gIT09ICd1bmRlZmluZWQnICYmIGZsYXR0ZW4gJiYgZmxhdHRlbiA9PT0gT2JqZWN0KGZsYXR0ZW4pICYmIE9iamVjdC5pc0V4dGVuc2libGUoZmxhdHRlbikpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmxhdHRlbiwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogImZsYXR0ZW4iLAogICAgICBmaWxlbmFtZTogInNyYy9hcnJheS5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoZmxhdHRlbiwgImZsYXR0ZW4iLCAiL1VzZXJzL2pvaG5pZXh1L0RvY3VtZW50cy9naXRodWIvZGVtby9hbGdvcml0aG0vc3JjL2FycmF5LmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/johniexu/Documents/github/demo/algorithm/src/array.js"],"names":["handleArgError","flatten","arr","Array","isArray","set","Set","flat","item","add","forEach"],"mappings":";;;;;;;;;;;AAAA,SAASA,cAAT,QAA+B,SAA/B;AAEA;;;;;AAIA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAS;AAC9B,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAL,EAAyB;AACvB,WAAOF,cAAc,CAAC,iCAAD,CAArB;AACD;;AACD,MAAMK,GAAG,GAAG,IAAIC,GAAJ,EAAZ;;AACA,MAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,IAAD,EAAU;AACrB,QAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;AAAE;AAAQ;;AAC3C,QAAI,CAACL,KAAK,CAACC,OAAN,CAAcI,IAAd,CAAL,EAA0B;AACxBH,MAAAA,GAAG,CAACI,GAAJ,CAAQD,IAAR;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI,CAACE,OAAL,CAAa,UAAAF,IAAI;AAAA,eAAID,IAAI,CAACC,IAAD,CAAR;AAAA,OAAjB;AACD;AACF,GAPD;;AAQAN,EAAAA,GAAG,CAACQ,OAAJ,CAAY,UAAAF,IAAI;AAAA,WAAID,IAAI,CAACC,IAAD,CAAR;AAAA,GAAhB;AACA,4BAAWH,GAAX;AACD,CAfM;;;;;;;;;;;;;;;;;;;;;;0BAAMJ,O","sourcesContent":["import { handleArgError } from './utils'\n\n/**\n * 扁平化数组\n * @param {Array} arr 需要扁平化的数组\n */\nexport const flatten = (arr) => {\n  if (!Array.isArray(arr)) {\n    return handleArgError('argument `arr` must be an array')\n  }\n  const set = new Set()\n  const flat = (item) => {\n    if (typeof item === 'undefined') { return }\n    if (!Array.isArray(item)) {\n      set.add(item)\n    } else {\n      item.forEach(item => flat(item))\n    }\n  }\n  arr.forEach(item => flat(item))\n  return [...set]\n}"]}]}